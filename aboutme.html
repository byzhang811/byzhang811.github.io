<!-- Load data first -->
<script defer src="./sidebar_data.js"></script>

<script
  defer
  src="./aboutme_data.js"
  onerror="console.error('[AboutMe] Failed to load aboutme_data.js (check file name / path).')"
></script>

<!-- Load main renderer -->
<script defer src="./main.js"></script>

<!-- Hard check: show a visible error on the page if data didn't load -->
<script>
  window.addEventListener("DOMContentLoaded", () => {
    const host = document.getElementById("aboutme-content");
    if (!host) return;

    if (!window.aboutmeData) {
      const msg = document.createElement("div");
      msg.style.padding = "12px 14px";
      msg.style.marginTop = "10px";
      msg.style.background = "#fff3cd";
      msg.style.border = "1px solid #ffeeba";
      msg.style.borderRadius = "10px";
      msg.style.color = "#856404";
      msg.style.lineHeight = "1.6";
      msg.innerHTML =
        "<b>AboutMe data not loaded.</b><br/>" +
        "Check that <code>aboutme_data.js</code> exists at the site root and contains <code>window.aboutmeData = {...}</code>.";
      host.prepend(msg);
      console.error("[AboutMe] window.aboutmeData is undefined. aboutme_data.js didn't execute.");
    } else {
      console.log("[AboutMe] Data loaded OK. sections =", window.aboutmeData.sections?.length);
    }
  });
</script>
